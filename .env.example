# Application Environment
APP_ENV=production

# InVoice Webhook Configuration
# Shared secret token for authenticating InVoice webhook requests
INVOICE_WEBHOOK_TOKEN=your-secret-token-here

# InVoice API OAuth2 Configuration
# Base URL for InVoice API (primary: https://enel.in-voice.it, alternative: https://enel.in-voice.biz)
INVOICE_API_BASE_URL=https://enel.in-voice.it

# OAuth2 Client Credentials (provided by Enel)
# Client ID for OAuth2 authentication
INVOICE_CLIENT_ID=your-client-id-here

# JWK (JSON Web Key) - RSA private key in JSON format
# Contains both public (n, e) and private (d, p, q, dp, dq, qi) components
# IMPORTANT: Never commit this file or expose the JWK in logs
# Format: JSON object with kty=RSA and all RSA components
INVOICE_JWK_JSON={"kty":"RSA","n":"...","e":"...","d":"...","p":"...","q":"...","dp":"...","dq":"...","qi":"..."}

# Alternative: If you have pre-converted PEM format private key
# INVOICE_JWK_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"

# Optional: Direct access token (if already obtained, skips OAuth2 flow)
# INVOICE_ACCESS_TOKEN=your-access-token-here

# Logging Configuration
LOG_DIR=storage/logs

# Application Settings
APP_DEBUG=false

# Bitrix24 Integration
# Webhook URL for Bitrix24 REST API
# Format: https://[your-domain].bitrix24.it/rest/[user_id]/[webhook_token]/
# You can create a webhook in Bitrix24: Settings > CRM > Webhooks
BITRIX24_WEBHOOK_URL=https://your-domain.bitrix24.it/rest/1/your-webhook-token/

# Bitrix24 Entity Configuration
# Type of entity to create in Bitrix24: "lead" or "contact"
# - "lead": Creates/updates a lead (default behavior)
# - "contact": Creates/updates a contact and creates a linked deal
ENTITY_TYPE=contact

# Bitrix24 Duplicate Check
# If "false", the system will check for existing leads/contacts by phone before creating
# If "true", duplicates are allowed and no check is performed
ALLOW_DUPLICATE=true

# Bitrix24 Deal Pipeline
# Pipeline ID for deals (only used when ENTITY_TYPE=contact)
# Set to 0 or leave empty to use default pipeline
PIPELINE=0
